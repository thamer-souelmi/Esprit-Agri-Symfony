{% extends 'baseback.html.twig' %}
{% block body %}
    <h1 class="text-center">Négociations </h1>

    {% if acceptedPagination is not empty %}
        <h2 style="color: #1cc88a;">Négociations Acceptées</h2>
        <table class="table">
            <thead>
                <tr>
                    <th>Montant proposé</th>
                    <th>Message</th>
                    <th>Date Négociation</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                {% for acceptedNegociation in acceptedPagination %}
                    <tr>
                        <td>{{ acceptedNegociation.montantpropose }}</td>
                        <td>{{ acceptedNegociation.message }}</td>
                        <td>{{ acceptedNegociation.datenegociation ? acceptedNegociation.datenegociation|date('Y-m-d') : '' }}</td>
                        <td style="display: flex; align-items: center;">
                            <a href="{{ path('app_negociation_show_back', {'id': acceptedNegociation.id}) }}" class="btn btn-success rounded-pill py-2 px-4">
                                <i class="fas fa-eye"></i>
                            </a>
                        </td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    {% endif %}

    {% if rejectedPagination is not empty %}
        <h2 style="color: #e74a3b;">Négociations Refusées</h2>
        <table class="table">
            <thead>
                <tr>
                    <th>Montant proposé</th>
                    <th>Message</th>
                    <th>Date Négociation</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                {% for rejectedNegociation in rejectedPagination %}
                    <tr>
                        <td>{{ rejectedNegociation.montantpropose }}</td>
                        <td>{{ rejectedNegociation.message }}</td>
                        <td>{{ rejectedNegociation.datenegociation ? rejectedNegociation.datenegociation|date('Y-m-d') : '' }}</td>
                        <td style="display: flex; align-items: center;">
                            <a href="{{ path('app_negociation_show_back', {'id': rejectedNegociation.id}) }}" class="btn btn-danger rounded-pill py-2 px-4">
                                <i class="fas fa-eye"></i>
                            </a>
                        </td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    {% endif %}

    {# Pagination #}
    <div class="container mt-5">
        <div class="row justify-content-center">
            <div class="text-center">
                {{ knp_pagination_render(acceptedPagination) }}
            </div>
        </div>
    </div>

    {# style of pagination #}
    <style>
        .pagination {
            display: flex;
            justify-content: center;
            list-style: none;
            padding: 0;
        }

        .pagination li {
            margin: 0 5px;
        }

        .button-container {
            display: flex;
            flex-direction: row;
            overflow-x: auto;
            white-space: nowrap;
        }

        .button-container button {
            margin-right: 10px; /* Espacement entre les boutons */
        }

        .pagination a {
            text-decoration: none;
            padding: 5px 10px;
            border: 1px solid #1cc88a; /* Bleu */
            border-radius: 3px;
            color: #1cc88a; /* Bleu */
        }

        .pagination a:hover {
            background-color: #1cc88a; /* Bleu au survol */
            color: #fff; /* Texte blanc au survol */
        }
    </style>
{% endblock %}
